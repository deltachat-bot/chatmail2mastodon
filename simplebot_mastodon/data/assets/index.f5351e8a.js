const m=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=e(a);fetch(a.href,n)}};m();window.showReplyForm=l=>{let s=d(l,"article").getElementsByClassName("reply-form")[0],e=s.getElementsByTagName("textarea")[0];e.value=e.getAttribute("mentions"),s.toggleAttribute("hidden")};window.reply=l=>{let s=d(l,"article"),e=s.getAttribute("id"),i=s.getElementsByClassName("reply-form")[0],a=i.getElementsByTagName("textarea")[0];e&&a.value&&(u({text:`/reply ${e} ${a.value}`},a.value),i.toggleAttribute("hidden"))};window.boost=l=>{let s=d(l,"article").getAttribute("id");s&&(l.setAttribute("onclick","unboost(this)"),l.style.fill="#2b90d9",u({text:`/boost ${s}`},`boost ${s}`))};window.unboost=l=>{let s=d(l,"article").getAttribute("id");s&&(l.setAttribute("onclick","boost(this)"),l.style.fill="",u({text:`/unboost ${s}`},`unboost ${s}`))};window.star=l=>{let s=d(l,"article").getAttribute("id");s&&(l.setAttribute("onclick","unstar(this)"),l.style.fill="#2b90d9",u({text:`/star ${s}`},`star ${s}`))};window.unstar=l=>{let s=d(l,"article").getAttribute("id");s&&(l.setAttribute("onclick","star(this)"),l.style.fill="",u({text:`/unstar ${s}`},`unstar ${s}`))};window.showOptions=l=>{document.getElementById("modal").style.display="block"};function d(l,s){let e=l.parentNode;for(;e&&s&&e.tagName!==s.toUpperCase();)e=e.parentNode;return e}function t(l,s,...e){const i=document.createElement(l);return s&&Object.entries(s).forEach(a=>{i.setAttribute(a[0],a[1])}),i.append(...e),i}function c(l,s){let e=f(`<svg><use xlink:href="/icons.svg#${l}"></use><svg>`)[0];return s&&Object.entries(s).forEach(i=>{e.setAttribute(i[0],i[1])}),e}function f(l){let s=t("div");return s.innerHTML=l,s.childNodes}function u(l,s){window.webxdc.sendUpdate({payload:{simplebot:l}},s)}function h(l){let s=document.getElementById("root");if(l.profile){let e=l.profile,i=e.relationships||{},a=t("div",{class:"account-profile-grid"},t("div",{class:"account-profile-avatar"},c("fa-user",{class:"avatar",style:"width: 80px; height: 80px;"})),t("div",{class:"account-profile-name"},e.display_name),t("div",{class:"account-profile-username"},`@${e.username}`),t("div",{class:"account-profile-followed-by"},i.followed_by?t("span",{class:"account-profile-followed-by-span"},"Follows you"):""),t("div",{class:"account-profile-follow"},c("fa-user-plus",{class:"btn-svg",style:e.id===l.acct_id?"display: none":""})),t("div",{class:"account-profile-note"},...f(e.note)));if(e.fields.length!==0){let n=t("div",{class:"account-profile-meta"},t("div",{class:"account-profile-meta-border"}));e.fields.forEach(r=>{n.append(t("div",{class:"account-profile-meta-cell account-profile-meta-name"},...f(r.name)),t("div",{class:"account-profile-meta-cell account-profile-meta-value"},...f(r.value)),t("div",{class:"account-profile-meta-cell account-profile-meta-verified"}))}),n.appendChild(t("div",{class:"account-profile-meta-border"})),a.appendChild(n)}a.append(t("div",{class:"account-profile-details"},t("div",{class:"account-profile-details-item"},t("span",{class:"account-profile-details-item-title"},"Toots"),t("span",{class:"account-profile-details-item-datum"},e.statuses_count)),t("div",{class:"account-profile-details-item"},t("span",{class:"account-profile-details-item-title"},"Follows"),t("span",{class:"account-profile-details-item-datum"},e.following_count)),t("div",{class:"account-profile-details-item"},t("span",{class:"account-profile-details-item-title"},"Followers"),t("span",{class:"account-profile-details-item-datum"},e.followers_count)))),s.appendChild(a)}l.toots.forEach(e=>{let i=t("article",{id:e.reblog?e.reblog.id:e.id,class:"w3-card-2"});if(l.notifications){if(e.type==="reblog")i.append(t("small",{class:"status-header"},c("fa-retweet",{class:"status-header-svg"}),e.account.display_name," (@",e.account.acct,") boosted your toot"));else if(e.type==="favourite")i.append(t("small",{class:"status-header"},c("fa-star",{class:"status-header-svg"}),e.account.display_name," (@",e.account.acct,") favorited your toot"));else if(e.type==="follow"){i.append(t("div",{},c("fa-user-plus",{class:"status-header-svg"}),e.account.display_name," (@",e.account.acct,") followed you")),s.appendChild(i);return}else if(e.type!=="mention"){console.log("UNSUPPORTE TYPE: "+e.type);return}e=e.status}else if(e.reblog){let o=t("small",{class:"status-header"},c("fa-retweet",{class:"status-header-svg"}),e.account.display_name," (@",e.account.acct,") boosted",t("br"));i.appendChild(o),e=e.reblog}i.appendChild(t("a",{class:"status-sidebar"},c("fa-user",{class:"avatar",style:"width: 48px; height: 48px;"}))),i.appendChild(t("strong",{},e.account.display_name,t("small",{}," (@"+e.account.acct+")"))),i.appendChild(t("small",{class:"w3-right"},e.created_at.split(" ")[0]));let a=t("p");if(e.media_attachments.length){let o=t("p");e.media_attachments.forEach(p=>{o.append(t("a",{href:p.url},p.url),t("br"))}),a.appendChild(o)}a.innerHTML+=e.content,i.appendChild(a);let n=t("div",{class:"toolbar"},t("button",{class:"icon-btn",onclick:"showReplyForm(this)"},c("fa-reply",{class:"btn-svg"})));if(e.visibility==="public"||e.visibility==="unlisted"){let o={class:"icon-btn",onclick:e.reblogged?"unboost(this)":"boost(this)",style:e.reblogged?"fill: #2b90d9":""};n.appendChild(t("button",o,c("fa-retweet",{class:"btn-svg"})))}else{let o={class:"icon-btn",style:"fill: #666"},p=e.visibility==="direct"?"fa-envelope":"fa-lock";n.appendChild(t("button",o,c(p,{class:"btn-svg"})))}n.append(t("button",{class:"icon-btn",onclick:e.favourited?"unstar(this)":"star(this)",style:e.favourited?"fill: #2b90d9":""},c("fa-star",{class:"btn-svg"})),t("button",{class:"icon-btn",onclick:"showOptions(this)"},c("fa-ellipsis-h",{class:"btn-svg"}))),i.append(n);let r=e.account.id===l.acct_id?"":`@${e.account.acct} `;e.mentions.forEach(o=>{o.id!==l.acct_id&&(r+=`@${o.acct} `)}),i.append(t("div",{class:"reply-form w3-container",hidden:""},t("strong",{},l.display_name,t("small",{}," (@"+l.username+")")),t("textarea",{placeholder:"What's on your mind?",mentions:r}),t("button",{class:"w3-btn w3-right",onclick:"reply(this)"},"Toot!"))),s.appendChild(i)})}onload=()=>{fetch("data.json").then(l=>l.json()).then(l=>h(l))};
